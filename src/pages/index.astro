---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Home, Building2, ShoppingBag, Palette } from '@lucide/astro';
import { servicesData } from '../data/services';
import { projects as allProjects, featuredProjectsCount } from '../data/portfolio';

const iconMap = { Home, Building2, ShoppingBag, Palette } as const;
const services = servicesData.map((s) => ({
  icon: iconMap[s.iconKey],
  title: s.title.replace(/ Interior Design| & Rendering/g, ''),
  description: s.shortDescription,
}));

const projects = allProjects.slice(0, featuredProjectsCount);

const heroImageUrl = 'https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=1920&q=80';
---

<Layout title="Home" preloadImage={heroImageUrl}>
  <Header />
  <main id="main-content">
  <!-- Hero Section -->
  <section class="relative h-screen min-h-[600px] sm:min-h-[700px] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0">
      <img 
        src={heroImageUrl} 
        alt="Luxury Interior" 
        width={1920}
        height={1080}
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-primary/90"></div>
    </div>
    
    <div class="relative z-10 max-w-5xl mx-auto px-4 sm:px-6 text-center">
      <p class="text-gold font-medium tracking-[0.2em] text-xs sm:text-sm mb-4 sm:mb-6 uppercase">Premium Interior Design</p>
      <h1 class="font-heading text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl text-white font-bold mb-6 sm:mb-8 leading-tight">
        Crafting Timeless<br/>Elegant Spaces
      </h1>
      <p class="text-zinc-300 text-base sm:text-lg md:text-xl max-w-xl sm:max-w-2xl mx-auto mb-8 sm:mb-10 leading-relaxed">
        We transform visions into stunning realities, creating interiors that inspire and endure.
      </p>
      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4 sm:px-0">
        <a 
          href="/portfolio" 
          class="inline-flex items-center justify-center gap-2 bg-white text-primary px-6 sm:px-8 py-3.5 sm:py-4 font-semibold rounded-xl shadow-lg hover:shadow-xl hover:bg-zinc-50 transition-all"
        >
          View Our Work
        </a>
        <a 
          href="/contact" 
          class="btn-secondary"
        >
          Start Your Project
        </a>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <a href="#our-services" class="absolute bottom-6 sm:bottom-10 left-1/2 -translate-x-1/2 animate-bounce text-white/60 hover:text-white transition-colors" aria-label="Scroll to services">
      <svg class="w-5 sm:w-6 h-5 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </a>
  </section>

  <!-- Services Section -->
  <section id="our-services" class="py-16 sm:py-24 bg-zinc-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-12 sm:mb-16">
        <p class="text-gold font-medium tracking-[0.2em] text-xs sm:text-sm mb-3 sm:mb-4 uppercase">What We Do</p>
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-4 sm:mb-6">Our Services</h2>
        <p class="text-zinc-600 max-w-xl mx-auto text-sm sm:text-base">
          Comprehensive interior design solutions tailored to bring your vision to life.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        {services.map((service) => (
          <div class="group card-modern p-6 sm:p-8">
            <div class="w-12 h-12 gold-gradient rounded-xl flex items-center justify-center mb-4 sm:mb-6 shadow-sm">
              <service.icon class="w-6 h-6 text-white" />
            </div>
            <h3 class="text-xl sm:text-2xl font-semibold text-primary mb-2 sm:mb-3">{service.title}</h3>
            <p class="text-zinc-600 text-sm leading-relaxed">{service.description}</p>
            <a href="/services" class="inline-flex items-center gap-2 text-gold mt-4 font-semibold text-sm group-hover:gap-3 transition-all">
              Learn More 
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Projects -->
  <section class="py-16 sm:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex flex-col sm:flex-row justify-between items-end mb-10 sm:mb-16 gap-4">
        <div>
          <p class="text-gold font-medium tracking-[0.2em] text-xs sm:text-sm mb-3 sm:mb-4 uppercase">Portfolio</p>
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-primary">Featured Projects</h2>
        </div>
        <a href="/portfolio" class="hidden sm:inline-flex items-center gap-2 text-primary font-semibold hover:text-gold transition-colors">
          View All Projects
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
        {projects.map((project) => (
          <a href="/portfolio" class="group block cursor-pointer">
            <div class="relative overflow-hidden aspect-[4/3] rounded-2xl mb-4 shadow-md group-hover:shadow-xl transition-shadow duration-300">
              <img 
                src={project.image} 
                alt={project.title}
                width={800}
                height={600}
                loading="lazy"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
              />
              <div class="absolute inset-0 bg-primary/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center rounded-2xl">
                <span class="text-white font-semibold border-2 border-white px-5 py-2.5 rounded-xl">View Project</span>
              </div>
            </div>
            <p class="text-gold text-xs sm:text-sm font-medium tracking-wide mb-1">{project.category}</p>
            <h3 class="text-lg sm:text-xl font-semibold text-primary">{project.title}</h3>
          </a>
        ))}
      </div>

      <div class="text-center mt-10 sm:hidden">
        <a href="/portfolio" class="inline-flex items-center gap-2 text-primary font-medium hover:text-gold transition-colors">
          View All Projects
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- About Preview -->
  <section class="py-16 sm:py-24 bg-zinc-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 sm:gap-16 items-center">
        <div class="relative order-2 lg:order-1">
          <img 
            src="https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=800&q=80" 
            alt="Design Studio"
            width={800}
            height={600}
            loading="lazy"
            class="w-full rounded-2xl shadow-lg"
          />
          <div class="absolute -bottom-4 sm:-bottom-8 -right-4 sm:-right-8 bg-primary text-white p-6 sm:p-8 rounded-2xl shadow-xl hidden lg:block">
            <p class="text-4xl sm:text-5xl font-bold tracking-tight">10+</p>
            <p class="text-zinc-400 text-sm">Years of Excellence</p>
          </div>
        </div>
        
        <div class="order-1 lg:order-2">
          <p class="text-gold font-medium tracking-[0.2em] text-xs sm:text-sm mb-3 sm:mb-4 uppercase">About Us</p>
          <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-4 sm:mb-6">
            Designing Spaces That Tell Your Story
          </h2>
          <p class="text-zinc-600 leading-relaxed mb-4 sm:mb-6 text-sm sm:text-base">
            At Infinity Square LLC, we believe that exceptional interior design goes beyond aestheticsâ€”it's about creating spaces that reflect your unique personality and enhance your lifestyle.
          </p>
          <p class="text-zinc-600 leading-relaxed mb-6 sm:mb-8 text-sm sm:text-base">
            Our team of talented designers combines creativity with functionality to transform ordinary spaces into extraordinary environments that inspire and delight.
          </p>
          
          <div class="grid grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8">
            <div>
              <p class="text-3xl sm:text-4xl font-bold text-primary tracking-tight">200+</p>
              <p class="text-zinc-500 text-sm">Projects Completed</p>
            </div>
            <div>
              <p class="text-3xl sm:text-4xl font-bold text-primary tracking-tight">50+</p>
              <p class="text-zinc-500 text-sm">Happy Clients</p>
            </div>
          </div>

          <a href="/about" class="btn-primary">
            Learn More About Us
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 sm:py-24 bg-primary relative overflow-hidden">
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(212,175,55,0.15),transparent)]"></div>
    
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center relative z-10">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6 tracking-tight">
        Ready to Transform Your Space?
      </h2>
      <p class="text-zinc-400 text-base sm:text-lg mb-8 sm:mb-10">
        Let's create something beautiful together. Contact us today for a consultation.
      </p>
      <a 
        href="/contact" 
        class="btn-primary inline-flex items-center gap-2"
      >
        Get In Touch
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </section>

  </main>
  <Footer />
</Layout>
