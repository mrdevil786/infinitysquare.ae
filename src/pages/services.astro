---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Home, Building2, ShoppingBag, Palette } from '@lucide/astro';
import { servicesData, processSteps } from '../data/services';

const iconMap = { Home, Building2, ShoppingBag, Palette } as const;
const services = servicesData.map((s) => ({ ...s, icon: iconMap[s.iconKey] }));
---

<Layout title="Services">
  <Header />

  <!-- Hero -->
  <section class="pt-28 sm:pt-32 pb-12 sm:pb-16 bg-stone-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="max-w-3xl">
        <p class="text-gold uppercase tracking-[0.2em] text-xs sm:text-sm mb-3 sm:mb-4">Our Services</p>
        <h1 class="font-heading text-3xl sm:text-4xl md:text-5xl xl:text-6xl font-bold text-primary mb-4 sm:mb-6">
          Comprehensive Design Solutions
        </h1>
        <p class="text-stone-600 text-base sm:text-lg leading-relaxed">
          From concept to completion, we offer end-to-end interior design services tailored to your unique needs.
        </p>
      </div>
    </div>
  </section>

  <!-- Services List -->
  <section class="py-12 sm:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 space-y-16 sm:space-y-24">
      {services.map((service, index) => (
        <div id={service.id} class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-16 items-center">
          <div class={index % 2 === 1 ? 'lg:order-2' : ''}>
            <div class="w-16 h-16 gold-gradient rounded-xl flex items-center justify-center mb-4 sm:mb-6">
              <service.icon class="w-8 h-8 text-white" />
            </div>
            <h2 class="font-heading text-3xl sm:text-4xl font-bold text-primary mb-3 sm:mb-4">{service.title}</h2>
            <p class="text-stone-600 text-base sm:text-lg leading-relaxed mb-6 sm:mb-8">{service.description}</p>
            
            <h3 class="font-heading text-lg sm:text-xl font-semibold text-primary mb-3 sm:mb-4">What's Included</h3>
            <ul class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3">
              {service.features.map((feature) => (
                <li class="flex items-center gap-2 sm:gap-3 text-stone-600 text-sm sm:text-base">
                  <svg class="w-4 sm:w-5 h-4 sm:h-5 text-gold flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>
          </div>
          
          <div class={index % 2 === 1 ? 'lg:order-1' : ''}>
            <img 
              src={service.image} 
              alt={service.title}
              width={800}
              height={600}
              loading="lazy"
              class="w-full shadow-2xl rounded-2xl"
            />
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Process -->
  <section class="py-12 sm:py-24 bg-stone-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-10 sm:mb-16">
        <p class="text-gold uppercase tracking-[0.2em] text-xs sm:text-sm mb-3 sm:mb-4">Our Process</p>
        <h2 class="font-heading text-3xl sm:text-4xl font-bold text-primary">How We Work</h2>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
        {processSteps.map((step, index) => (
          <div class="relative">
            <div class="text-5xl sm:text-6xl font-heading font-bold text-stone-200 mb-3 sm:mb-4">{step.step}</div>
            <h3 class="font-heading text-lg sm:text-xl font-semibold text-primary mb-2">{step.title}</h3>
            <p class="text-stone-600 text-sm sm:text-base">{step.description}</p>
            {index < process.length - 1 && (
              <div class="hidden sm:block absolute top-8 -right-3 lg:right-0 xl:-right-4 text-stone-300">
                <svg class="w-6 sm:w-8 h-6 sm:h-8" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
              </div>
            )}
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-12 sm:py-24 bg-primary">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <h2 class="font-heading text-3xl sm:text-4xl font-bold text-white mb-4 sm:mb-6">
        Ready to Start Your Project?
      </h2>
      <p class="text-stone-300 text-base sm:text-lg mb-8 sm:mb-10">
        Let's discuss how we can bring your vision to life.
      </p>
      <a 
        href="/contact" 
        class="inline-flex items-center gap-2 gold-gradient text-white px-8 sm:px-10 py-3 sm:py-4 font-medium text-base sm:text-lg hover:opacity-90 transition-opacity"
      >
        Get In Touch
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </section>

  <Footer />
</Layout>
